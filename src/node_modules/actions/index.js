import {
	FETCH_PHONES_START,
	FETCH_PHONES_SUCCESS,
	FETCH_PHONES_FAILURE,
	FETCH_PHONE_ID_START,
	FETCH_PHONE_ID_SUCCESS,
	FETCH_PHONE_ID_FAILURE,
} from 'constants';

import {
	fetchPhones as fetchPhonesApi,
	fetchPhoneId as fetchPhoneIdApi
} from 'api';

export const fetchPhones = () => async dispatch =>{
	dispatch({type: FETCH_PHONES_START});

	try{
		const phones = await fetchPhonesApi();
		dispatch({
			type: FETCH_PHONES_SUCCESS,
			payload: phones
		});
	} catch (err) {
		dispatch({
			type: FETCH_PHONES_FAILURE,
			payload: err,
			error: true
		})
	}

};


export const phonePage = (id) => async dispatch =>{
	dispatch({type: FETCH_PHONE_ID_START});
	try{
		const phoneId=await fetchPhoneIdApi(id);
		dispatch({
			type: FETCH_PHONE_ID_SUCCESS,
			payload: phoneId
		})
	} catch (err){
		dispatch({
			type: FETCH_PHONE_ID_FAILURE,
			payload: err,
			error: true
		})
	}
}
