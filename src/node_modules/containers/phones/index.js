import React, {Component} from 'react';
import {connect} from 'react-redux';

import PhonesItem from 'components/phonesItem';
import {fetchPhones} from 'actions';
import {getPhones} from 'selectors';

class Phones extends Component{
	componentDidMount(){
		this.props.fetchPhones();
	}
	renderPhone(phone){
		const {id} = phone;
		return <PhonesItem key={id} phone={phone} />;
	}
	render(){
		const {phones} = this.props;
		return(
			<section className="content__tovar">
				<div className="container">
					<div className="row">
						{phones.map((phone)=>this.renderPhone(phone))}
					</div>
				</div>
			</section>
		)
	}
}


const mapStateToProps = (state)=>{
	return{
		phones: getPhones(state)
	}
};

export default connect(mapStateToProps,{fetchPhones})(Phones);