import React, {Component} from 'react';
import r from 'rethinkdb';

class Registration extends Component {
	constructor(){
		super();
		this.state={
			login: '',
			password: ''
		}
	}
	handleForm(e){
		const {login,password} = this.state;
		e.preventDefault();
		if(login.length && password.length){
			let conn = r.connect('localhost:3000/registration', 28015);
			r.table('marvel').run(conn, function(err, cursor) {
				cursor.each(console.log('q'));
			})
		}
	}
	render(){
		return(
			<div className='container' style={{marginTop: '20px'}}>
				<div className="row">
					<div className="col-md-12">
						<form>
							<div className="form-group">
								<label htmlFor="exampleInputLogin">Login</label>
								<input
									type="text"
									className="form-control"
									id="exampleInputLogin"
									value={this.state.login}
									aria-describedby="emailHelp"
									placeholder="Login"
									onChange={(e)=>this.setState({login: e.target.value})}
								/>
							</div>
							<div className="form-group">
								<label htmlFor="exampleInputPassword1">Password</label>
								<input
									type="password"
									className="form-control"
									id="exampleInputPassword1"
									placeholder="Password"
									value={this.props.password}
									onChange={(e)=>this.setState({password: e.target.value})}
								/>
							</div>
							<button
								type="submit"
								className="btn btn-primary"
								onClick={(e)=>this.handleForm(e)}
							>Отправить</button>
						</form>
					</div>
				</div>
			</div>
		)
	}
}

export default Registration;