import React, {Component} from 'react';
import {connect} from 'react-redux';
import {Link} from 'react-router';

import {phonePage} from 'actions';

class Phone extends Component{
	componentDidMount(){
		this.props.phonePage(this.props.params.id);
	}
	renderPhone(){
		const {
			image,
			name,
			description,
			price,
			battery,
			camera,
			cpu,
			display,
			memory,
			size,
			weight
		} = this.props.phone;
		return (
			<div className="col-md-12">
				<div className="phone__img">
					<img src={image} alt={name} />
				</div>
				<div className="phone__name">
					<p>{name}</p>
				</div>
				<div className="phone__description">
					<p>{description}</p>
				</div>
				<div className="phone__price">
					<p>{`Цена ${price}`}</p>
				</div>
				<div className="phone__battery">
					<p>{`Батарея ${battery}`}</p>
				</div>
				<div className="phone__cpu">
					<p>{`Процессор ${cpu}`}</p>
				</div>
				<div className="phone__size">
					<p>{`Размер ${size}`}</p>
				</div>
				<div className="phone__camera">
					<p>{`Камера ${camera}`}</p>
				</div>
				<div className="phone__memory">
					<p>{`Память ${memory}`}</p>
				</div>
				<div className="phone__display">
					<p>{`Дисплей ${display}`}</p>
				</div>
				<div className="phone__weight">
					<p>{`Вес ${weight}`}</p>
				</div>
				<div className="buy__phone">
					<button className='btn btn-primary'>Купить</button>
				</div>
				<Link to='/'>На главную</Link>
			</div>
		);
	}
	render(){
		return(
			<div className='container'>
				<div className="row">
					{this.props.phone&&this.renderPhone()}
				</div>
			</div>
		)
	}
}

const mapStateToProps = (state) =>{
	return{
		phone: state.phone
	}
};

export default connect(mapStateToProps,{phonePage})(Phone);